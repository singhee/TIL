# Monad
'`함수객체(Functor)`란 맵을 적용할 수 있는 컨테이너 타입'이라고 말할 수 있다. Array, Dictionary, Set 등 스위프트의 많은 컬렉션 타입이 함수객체이다.
모나드는 다음과 같은 특징을 가진다. 

* 함수형 프로그래밍의 좋은 예.
* 특정한 상태로 값을 포장.
* 스위프트의 옵셔널은 스위프트의 모나드의 좋은 예.
* 특정기능이 아닌 디자인패턴 혹 자료구조.

모나드는 함수객체의 일종이다. 함수 객체는 포장된 값에 함수를 적용할 수 있다. 그래서 모나드도 컨텍스트에 포장된 값을 처리하여 컨텍스트에 포장된 값을 다시 반환하는 함수를 적용할 수 있다.
```Swift
let optionalArr: [Int?] = [1, 2, nil, 5]

let mappedArr: [Int?] = optionalArr.map { $0 }
let flatmappedArr: [Int] = optionalArr.flatMap { $0 }

print(mappedArr) // [Optional(1), Optional(2), nil, Optional(5)]
print(flatmappedArr) // [1, 2, 5]
```

위 코드에서 optionalArr은 Array라는 컨테이너의 내부에 Optional이라는 형태의 컨테이너들이 여러개 들이있는 형태이다. 맵은 Arr컨테이너 내부의 값이 타입이나 형태가 어찌되었든 Array 내부에 값이 있으면 그 값을 그저 클로저의 코드에만 실행하고 결과를 다시 Array컨테이너에 담기만 힌다.

그러나 플랫맵은 알아서 내부 컨테이너 값까지 추출한다. 또한 플랫맵은 내부의 값을 1차원으로 펼처놓는 작업도 수행하기 때문에 삼중컨테이너에서도 값을 꺼내어 모두 동일한 위상으로 펼쳐놓는 모양새를 갖춘다.

스위프트에서 옵셔널에 관련된 여러 컨테이너의 값을 연달아 처리할 때, 바인딩을 통해 체인형식으로 사용할수 있기에, 맵보다는 플랫맵이 더 유용하게 사용된다.

